<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Neon Casino Pro</title>

<style>
body{
margin:0;
font-family:Arial;
background:#000;
color:white;
text-align:center;
}

.screen{display:none;padding:20px;}
.active{display:block;}

input{
padding:10px;
margin:5px;
border-radius:8px;
border:none;
width:200px;
}

button{
padding:10px 20px;
border:none;
border-radius:8px;
margin:5px;
background:#00eaff;
color:black;
font-weight:bold;
cursor:pointer;
}

.balance{font-size:22px;margin:10px;}

.color-box{
width:80px;
height:80px;
display:inline-block;
margin:10px;
border-radius:10px;
cursor:pointer;
}

.red{background:red;}
.green{background:lime;}
.blue{background:cyan;}

.timer{font-size:24px;margin:10px;}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="login" class="screen active">
<h2>Login</h2>
<input id="loginUser" placeholder="Username"><br>
<input id="loginPass" type="password" placeholder="Password"><br>
<button onclick="login()">Login</button>
<p>Don't have account?</p>
<button onclick="showScreen('register')">Register</button>
<p id="loginMsg"></p>
</div>

<!-- REGISTER -->
<div id="register" class="screen">
<h2>Register</h2>
<input id="regUser" placeholder="Username"><br>
<input id="regPass" type="password" placeholder="Password"><br>
<button onclick="register()">Create Account</button>
<button onclick="showScreen('login')">Back to Login</button>
<p id="regMsg"></p>
</div>

<!-- WALLET -->
<div id="wallet" class="screen">
<h2>Welcome <span id="user"></span></h2>
<div class="balance">Coins: <span id="coins"></span></div>
<button onclick="showScreen('game')">Play Game</button>
<button onclick="logout()">Logout</button>
</div>

<!-- GAME -->
<div id="game" class="screen">
<h2>Color Game (10 sec)</h2>
<div class="timer">Time: <span id="time">10</span></div>

<div>
<div class="color-box red" onclick="choose('Red')"></div>
<div class="color-box green" onclick="choose('Green')"></div>
<div class="color-box blue" onclick="choose('Blue')"></div>
</div>

<p id="result"></p>
<button onclick="showScreen('wallet')">Back</button>
</div>

<script>

let currentUser=null;
let coins=0;
let timer;
let selected=null;
let time=10;

function showScreen(id){
document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
if(id==="game") startGame();
}

function register(){
let u=document.getElementById("regUser").value;
let p=document.getElementById("regPass").value;

if(!u || !p){
document.getElementById("regMsg").innerText="Fill all fields";
return;
}

if(localStorage.getItem(u)){
document.getElementById("regMsg").innerText="User already exists";
return;
}

localStorage.setItem(u, JSON.stringify({password:p, coins:500}));
document.getElementById("regMsg").innerText="Account created! Go login.";
}

function login(){
let u=document.getElementById("loginUser").value;
let p=document.getElementById("loginPass").value;

let data=localStorage.getItem(u);

if(!data){
document.getElementById("loginMsg").innerText="User not found";
return;
}

let user=JSON.parse(data);

if(user.password!==p){
document.getElementById("loginMsg").innerText="Wrong password";
return;
}

currentUser=u;
coins=user.coins;
document.getElementById("user").innerText=u;
document.getElementById("coins").innerText=coins;

showScreen("wallet");
}

function logout(){
currentUser=null;
showScreen("login");
}

function startGame(){
time=10;
selected=null;
document.getElementById("result").innerText="";
document.getElementById("time").innerText=time;

clearInterval(timer);
timer=setInterval(()=>{
time--;
document.getElementById("time").innerText=time;

if(time<=0){
clearInterval(timer);
finishGame();
}
},1000);
}

function choose(color){
selected=color;
}

function finishGame(){
let colors=["Red","Green","Blue"];
let result=colors[Math.floor(Math.random()*3)];

if(selected===result){
coins+=100;
document.getElementById("result").innerText="You Win! +100";
}else{
coins-=50;
document.getElementById("result").innerText="You Lost! -50";
}

updateCoins();
}

function updateCoins(){
document.getElementById("coins").innerText=coins;
localStorage.setItem(currentUser, JSON.stringify({password:JSON.parse(localStorage.getItem(currentUser)).password, coins:coins}));
}

</script>

</body>
</html>
